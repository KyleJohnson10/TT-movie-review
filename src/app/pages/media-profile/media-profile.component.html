<app-modal modalActive="false">
  <h2 class="modal-title">Submit your review for {{ this.productData.name || this.productData.original_title }}</h2>
  <div class="rating-input-container">
    <input value="0" type="number" id="" name="" min="0" max="10"> <h2> / 10</h2>
  </div>
  <textarea class="modal-text-entry" name="message" rows="10" placeholder="Enter text here" cols="30"></textarea>
  <div class="d-flex align-items-center justify-content-center">
    <button class="button">Submit review</button>
  </div>
</app-modal>
<app-banner [shortSearch]="true"></app-banner>

<section class="product">
  <div class="title">
    <div class="container">
      <div class="left">
        <ul class="breadcrumbs">
          <li>Product</li>
          <li>{{ this.productData.name || this.productData.original_title }}</li>
        </ul>
        <h1>{{ this.productData.name || this.productData.original_title }}</h1>
        <p>{{ this.productData.overview }}</p>
      </div>
      <div class="right">
        <button (click)="navigateToExternalLink(this.productData.homepage)">{{this.productData.vote_average}} <svg
            xmlns="http://www.w3.org/2000/svg" fill="#FFD700" width="18" height="18" viewBox="0 0 24 24">
            <path
              d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
          </svg></button>
        <button (click)="navigateToExternalLink(this.productData.homepage)">Website</button><br />
        <button (click)="toggleModal()">Write a review</button>
      </div>
    </div>
    <div class="container about">
      <div class="row">
        <div class="col-md-4 col-sm-12">
          <img class="logo" src="https://image.tmdb.org/t/p/w500{{ this.productData.poster_path }}"
            alt="{{ this.productData.name}}" />
        </div>
        <div *ngIf="reviews.length > 0" class="col-md-8 col-sm-12">
          <h2>Reviews:</h2>



          <div class="accordion" *ngFor="let review of reviews; let i = index" id="accordionExample">
            <div class="card">
              <a (click)="toggleAccordion(i)">
                <div class="card-header" id="headingOne">
                  <div class="rating-container">
                    <h2 class="mb-0">
                      {{ review.author_details.rating }}
                      <svg xmlns="http://www.w3.org/2000/svg" fill="#FFD700" width="18" height="18" viewBox="0 0 24 24">
                        <path
                          d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
                      </svg>
                      - {{ review.author }}
                    </h2>
                  </div>
                </div>
              </a>

              <div id="collapse{{i}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                  {{ review.content }}
                </div>
              </div>
            </div>
          </div>



        </div>
      </div>
    </div>
  </div>
</section>